<!DOCTYPE html>
<html lang="en">
<head>
<meta name="Keywords" content="Qit">
<meta name="description" content="Qit.cc">
<title>Qit.cc</title>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="Codrops" />
<link rel="stylesheet" type="text/css" href="css/demo.css" />
<link rel="stylesheet" type="text/css" href="css/style.css" />
<link href='http://fonts.googleapis.com/css?family=Miltonian|Bitter' rel='stylesheet' type='text/css' />
<script type="text/javascript" src="js/modernizr.custom.21750.js"></script>

<style>
.bx-loading {
	display: none;
}
</style>
</noscript>
<style>
.gridContainer {
	margin-left: auto;
	margin-right: auto;
	width:100%;
	min-width: 380px	;
	padding-left: 0px;
	padding-right: 0px;
	padding-top:12.5%;
}
.main_1002{
		width:360px;
		height:760px;
		margin:0 auto;
		background:rgba(51, 51, 51, 0.5);
		padding:10px 10px 10px 10px;
		margin-top:0%;
	}
	.main_1002 .left_450{
		height:320px;
		width:360px;
		background:rgba(255, 255, 255, 0.3);
		float:left;
	}
	.main_1002 .left_450 span{
		font-size:45px;
		font-family:Consolas,"微软雅黑";
		text-align:center;
		width:100%;
		float:left;
		margin-top:50%;
		color:#000000;
	}
	.main_1002 .right_202{
		height:100px;
		width:360px;
		background:rgba(225, 225, 225, 0.3);
		float:left;
		margin-top:10px;
		
	}
	.main_1002 .content_320{
		height:320px;
		width:360px;
		float:left;
		margin:10px 0px 0px 0px;
	}
	.main_1002 .content_320 .squree{
		width:113px;
		height:100px;
		float:left;
		margin-right:10px;
		margin-bottom:10px;
	}
	.main_1002 .content_320 .m_left{
		margin-left:10px;
	}
	.main_1002 .content_320 .squree.c1{ background:#ebcf77;}
	.main_1002 .content_320 .squree.c2{ background:#ffffff;}
	.main_1002 .content_320 .squree.c3{ background:#9c9c9c;}
	.main_1002 .content_320 .squree.c4{ background:#ec3939;}
	.main_1002 .content_320 .squree.c5{ background:#e36fed;}
	.main_1002 .content_320 .squree.c6{ background:#d95b43;}
	.main_1002 .content_320 .squree.c7{ background:#45a38d;}
	.main_1002 .content_320 .squree.c8{ background:#987654;}
	.main_1002 .content_320 .squree.c9{ background:#2779a7;}
	.main_1002 .content_320 .mar_right{ margin-right:0px;}


/* Mobile Layout: 480px and below. */
@media only screen and (min-width: 481px) {
.gridContainer {
	margin-left: auto;
	margin-right: auto;
	width:100%;
	min-width: 380px;
	padding-left: 0px;
	padding-right: 0px;
	padding-top:12.5%;
}
.main_1002{
		width:360px;
		height:760px;
		margin:0 auto;
		background:rgba(51, 51, 51, 0.5);
		padding:10px 10px 10px 10px;
		margin-top:0%;
	}
	.main_1002 .left_450{
		height:320px;
		width:360px;
		background:rgba(255, 255, 255, 0.3);
		float:left;
	}
	.main_1002 .left_450 span{
		font-size:45px;
		font-family:Consolas,"微软雅黑";
		text-align:center;
		width:100%;
		float:left;
		margin-top:50%;
		color:#000000;
	}
	.main_1002 .right_202{
		height:100px;
		width:360px;
		background:rgba(225, 225, 225, 0.3);
		float:left;
		margin-top:10px;
		
	}
	.main_1002 .content_320{
		height:320px;
		width:360px;
		float:left;
		margin:10px 0px 0px 0px;
	}
	.main_1002 .content_320 .squree{
		width:113px;
		height:100px;
		float:left;
		margin-right:10px;
		margin-bottom:10px;
	}
	.main_1002 .content_320 .m_left{
		margin-left:10px;
	}
	.main_1002 .content_320 .squree.c1{ background:#ebcf77;}
	.main_1002 .content_320 .squree.c2{ background:#ffffff;}
	.main_1002 .content_320 .squree.c3{ background:#9c9c9c;}
	.main_1002 .content_320 .squree.c4{ background:#ec3939;}
	.main_1002 .content_320 .squree.c5{ background:#e36fed;}
	.main_1002 .content_320 .squree.c6{ background:#d95b43;}
	.main_1002 .content_320 .squree.c7{ background:#45a38d;}
	.main_1002 .content_320 .squree.c8{ background:#987654;}
	.main_1002 .content_320 .squree.c9{ background:#2779a7;}
	.main_1002 .content_320 .mar_right{ margin-right:0px;}
}
/* Tablet Layout: 481px to 768px. Inherits styles from: Mobile Layout. */

@media only screen and (min-width: 769px) {
	body{ margin:0 auto;}
	.gridContainer {
		min-width: 100%;
		width:760px;
		background: none;
		padding-left: 0px;
		padding-right: 0px;
		padding-top:12.5%;
	}
	.main_1002{
		width:735px;
		height:430px;
		margin:0 auto;
		background:rgba(51, 51, 51, 0.5);
		padding:10px 10px 10px 10px;
		margin-top:0%;
	}
	.main_1002 .left_450{
		height:320px;
		width:405px;
		background:rgba(255, 255, 255, 0.3);
		float:left;
	}
	.main_1002 .left_450 span{
		font-size:45px;
		font-family:Consolas,"微软雅黑";
		text-align:center;
		width:100%;
		float:left;
		margin-top:50%;
		color:#000000;
	}
	.main_1002 .right_202{
		height:100px;
		width:735px;
		background:rgba(225, 225, 225, 0.3);
		float:left;
		margin-top:10px;
		
	}
	.main_1002 .content_320{
		height:320px;
		width:330px;
		float:left;
		margin:0px 0px 0px 0px;
	}
	.main_1002 .content_320 .squree{
		width:100px;
		height:100px;
		float:left;
		margin-left:10px;
		margin-bottom:10px;
		margin-right:0px;
	}
	.main_1002 .content_320 .m_left{
		margin-left:10px;
	}
	.main_1002 .content_320 .squree.c1{ background:#ebcf77;}
	.main_1002 .content_320 .squree.c2{ background:#ffffff;}
	.main_1002 .content_320 .squree.c3{ background:#9c9c9c;}
	.main_1002 .content_320 .squree.c4{ background:#ec3939;}
	.main_1002 .content_320 .squree.c5{ background:#e36fed;}
	.main_1002 .content_320 .squree.c6{ background:#d95b43;}
	.main_1002 .content_320 .squree.c7{ background:#45a38d;}
	.main_1002 .content_320 .squree.c8{ background:#987654;}
	.main_1002 .content_320 .squree.c9{ background:#2779a7;}
	.main_1002 .content_320 .mar_right{ margin-right:0px;}
}

/* Desktop Layout: 769px to a max of 1232px.  Inherits styles from: Mobile Layout and Tablet Layout. */

@media only screen and (min-width: 1232px) {
.bx-wrapper .gridContainer {
		width: 100%;
		min-width: 1232px;
		padding-left: 0px;
		padding-right:0px;
		padding-top:12.5%;
		margin: auto;
	}
	.main_1002 {
		width: 992px;
		height: 320px;
		margin: 0 auto;
		background: rgba(51, 51, 51, 0.5);
		padding: 10px 10px 10px 10px;
		margin-top: 0%;
	}
	.main_1002 .left_450 {
		height: 320px;
		width: 450px;
		background: rgba(255, 255, 255, 0.3);
		float: left;
	}
	.main_1002 .left_450 span {
		font-size: 45px;
		font-family: Consolas, "微软雅黑";
		text-align: center;
		width: 100%;
		float: left;
		margin-top: 50%;
	}
	.main_1002 .right_202 {
		height: 320px;
		width: 202px;
		background: rgba(225, 225, 225, 0.3);
		float: right;
		margin-top:0px;
	}
	.main_1002 .content_320 {
		height: 320px;
		width: 340px;
		float: left;
		margin: 0px 0px 0px 0px;
	}
	.main_1002 .content_320 .squree {
		width: 100px;
		height: 100px;
		float: left;
		margin-left: 10px;
		margin-bottom: 10px;
	}
	.main_1002 .content_320 .m_left {
		margin-left: 10px;
	}
	.main_1002 .content_320 .squree.c1 {
		background: #ebcf77;
	}
	.main_1002 .content_320 .squree.c2 {
		background: #ffffff;
	}
	.main_1002 .content_320 .squree.c3 {
		background: #9c9c9c;
	}
	.main_1002 .content_320 .squree.c4 {
		background: #ec3939;
	}
	.main_1002 .content_320 .squree.c5 {
		background: #e36fed;
	}
	.main_1002 .content_320 .squree.c6 {
		background: #d95b43;
	}
	.main_1002 .content_320 .squree.c7 {
		background: #45a38d;
	}
	.main_1002 .content_320 .squree.c8 {
		background: #987654;
	}
	.main_1002 .content_320 .squree.c9 {
		background: #2779a7;
	}
}
</style>
</head><body>
<div class="container">
  <div id="bx-wrapper" class="bx-wrapper">
    <div class="bx-loading"><span>正在飞速加载...</span> </div>
    <div class="gridContainer xia">
      <div class="main_1002">
        <div class="left_450"> <span>www.Qit.cc</span> </div>
        <div class="content_320">
          <div class="squree c1"></div>
          <div class="squree c2"></div>
          <div class="squree c3 mar_right"></div>
          <div class="squree c4"></div>
          <div class="squree c5"></div>
          <div class="squree c6 mar_right"></div>
          <div class="squree c7"></div>
          <div class="squree c8"></div>
          <div class="squree c9 mar_right"></div>
        </div>
        <div class="right_202"></div>
      </div>
    </div>
    <div class="bx-container"><img src="images/large/psb.jpg" alt="image01" title="Shushi Town"/> </div>
    <div class="bx-overlay"></div>
  </div>
</div>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script> 
<script type="text/javascript" src="js/StackBlur.js"></script> 
<script type="text/javascript">
	$(function() {
		var BlurBGImage	= (function() {
			var $bxWrapper			= $('#bx-wrapper'),
			// loading status to show while preloading images
			// 加载状态显示，同时预加载图像
			$bxLoading			= $bxWrapper.find('div.bx-loading'),
			// container for the bg images and respective canvas
			// 容器的背景图像和各自的画布
			$bxContainer		= $bxWrapper.find('div.bx-container'),
			// the bg images we are gonna use
			// 我们将要使用的背景图像
			$bxImgs				= $bxContainer.children('img'),
			// total number of bg images
			// 总人数的背景图像
			bxImgsCount			= $bxImgs.length,
			// the thumb elements
			// 拇指元素
			$thumbs				= $bxWrapper.find('div.bx-thumbs > a').hide(),
			// the title for the current image
			// 标题为当前图像
			$title				= $bxWrapper.find('h2:first'),
			// current image's index
			// 当前图像的索引
			current				= 0,
			// variation to show the image:
			// 变化显示图像
			// (1) - blurs the current one, fades out and shows the next image
			// (1) 模糊的电流，并显示下张图像淡入淡出
			// (2) - blurs the current one, fades out, shows the next one (but initially blurred)
			// (2) 模糊的电流，淡出，显示下一个（但最初模糊）
			// speed is the speed of the animation
			// speed 是动画的速度
			// blur Factor is the factor used in the StackBlur script
			// 模糊因子的主要因素是用于stackblur脚本
			animOptions			= { speed : 700, variation : 1, blurFactor : 10 },
			// control if currently animating
			// 如果目前动画控制
			isAnim				= false,
			// check if canvas is supported
			// 检查如果帆布的支持
			supportCanvas 		= Modernizr.canvas,
			// init function
			// 初始化函数
			init				= function() {
				// preload all images and respective canvas
				// 下载所有图像和各自的画布
				var loaded = 0;
				$bxImgs.each( function(i) {
					var $bximg	= $(this);
					// save the position of the image in data-pos
					// 保存图像的位置在data-pos
					$('<img data-pos="' + $bximg.index() + '"/>').load(function() {
						var $img	= $(this),
						// size of image to be fullscreen and centered
						// 图像的大小是全屏和中心
						dim		= getImageDim( $img.attr('src') ),
						pos		= $img.data( 'pos' );
						// add the canvas to the DOM
						// 添加画布的DOM
						$.when( createCanvas( pos, dim ) ).done( function() {
							++loaded;
							// all images and canvas loaded
							// 所有的图像和画布
							if( loaded === bxImgsCount ) {
								// show thumbs
								// 显示竖起大拇指
								$thumbs.fadeIn();
								// apply style for bg image and canvas
								// 应用样式为背景图像和画布
								centerImageCanvas();
								// hide loading status
								// 隐藏加载状态
								$bxLoading.hide();
								// initialize events
								// 初始化事件
								initEvents();
							}
                        });
                    }).attr( 'src', $bximg.attr('src') );
                });
			},
			// creates the blurred canvas image
			// 模糊图像创建画布
			createCanvas		= function( pos, dim ) {
				return $.Deferred( function(dfd) {
					// if canvas not supported return
					// 如果不支持返回画布
					if( !supportCanvas ) {
						dfd.resolve();
						return false;
					}	
					// create the canvas element:
					// 创建画布元素
					// size and position will be the same like the fullscreen image
					// 大小和位置将是同一样的全屏图像
					var $img	= $bxImgs.eq( pos ),
					imgW	= dim.width,
					imgH	= dim.height,
					imgL	= dim.left,
					imgT	= dim.top,
					canvas	= document.createElement('canvas');
					canvas.className	= 'bx-canvas';
					canvas.width 		= imgW;
					canvas.height 		= imgH;
					canvas.style.width  = imgW + 'px';
					canvas.style.height = imgH + 'px';
					canvas.style.left	= imgL + 'px';
					canvas.style.top	= imgT + 'px';
					canvas.style.visibility = 'hidden';
					// save position of canvas to know which image this is linked to
					// 保存位置帆布知道哪些图像这是联系在一起的
					canvas.setAttribute('data-pos', pos);
					// append the canvas to the same container where the images are
					// 在画布上相同的容器的图像
					$bxContainer.append( canvas );
					// blur it using the StackBlur script
					// 模糊，它使用stackblur脚本
					stackBlurImage( $img.get(0), dim, canvas, animOptions.blurFactor, false, dfd.resolve );
				}).promise();
			},
			// gets the image size and position in order to make it fullscreen and centered.
			// 获取的图像的大小和位置，以使它全屏和中心。
			getImageDim			= function( img ) {
				var $img    = new Image();
				$img.src    = img;
				var $win	= $( window ),
				w_w		= $win.width(),
				w_h		= $win.height(),
				r_w		= w_h / w_w,
				i_w		= $img.width,
				i_h		= $img.height,
				r_i		= i_h / i_w,
				new_w, new_h, new_left, new_top;
				if( r_w > r_i ) {
					new_h	= w_h;
					new_w	= w_h / r_i;
				} else {
					new_h	= w_w * r_i;
					new_w	= w_w;
				}
				return {
					width	: new_w,
					height	: new_h,
					left	: ( w_w - new_w ) / 2,
					top		: ( w_h - new_h ) / 2
				};
			},
			// initialize the events
			// 初始化事件
			initEvents			= function() {
				$( window ).on('resize.BlurBGImage', function( event ) {
					// apply style for bg image and canvas
					// 应用样式为背景图像和画布
					centerImageCanvas();
					return false;
				});
				// clicking on a thumb shows the respective bg image
				// 单击拇指表明各自的背景图像
				$thumbs.on('click.BlurBGImage', function( event ) {
					var $thumb	= $(this),
					pos		= $thumb.index();
					if( !isAnim && pos !== current ) {
						$thumbs.removeClass('bx-thumbs-current');
						$thumb.addClass('bx-thumbs-current');
						isAnim = true;
						// show the bg image
						// 显示背景图像
						showImage( pos );
					}
					return false;
				});
			},
			// apply style for bg image and canvas
			// 应用样式为背景图像和画布
			centerImageCanvas	= function() {
				$bxImgs.each( function(i) {
					var $bximg	= $(this),
					dim			= getImageDim( $bximg.attr('src') ),
					$currCanvas	= $bxContainer.children('canvas[data-pos=' + $bximg.index() + ']'),
					styleCSS	= {
						width	: dim.width,
						height	: dim.height,
						left	: dim.left,
						top		: dim.top
					};	
					$bximg.css( styleCSS );
					if( supportCanvas )
					$currCanvas.css( styleCSS );
					if( i === current )	
					$bximg.show();
				});
			},
			// shows the image at position "pos"
			// 显示图像的位置“pos”
			showImage			= function( pos ) {
				// current image 
				// 目前的图像
				var $bxImage		= $bxImgs.eq( current );
				// current canvas
				// 目前的画布
				$bxCanvas		= $bxContainer.children('canvas[data-pos=' + $bxImage.index() + ']'),
				// next image to show
				// 下一个图像显示
				$bxNextImage	= $bxImgs.eq( pos ),
				// next canvas to show
				// 下一个画布
				$bxNextCanvas	= $bxContainer.children('canvas[data-pos='+$bxNextImage.index()+']');
				// if canvas is supported
				// 如果画布的支持
				if( supportCanvas ) {
					$.when( $title.fadeOut() ).done( function() {
						$title.text( $bxNextImage.attr('title') );
					});
					$bxCanvas.css( 'z-index', 100 ).css('visibility','visible');
					$.when( $bxImage.fadeOut( animOptions.speed ) ).done( function() {
						switch( animOptions.variation ) {
							case 1 	:
							$title.fadeIn( animOptions.speed );
							$.when( $bxNextImage.fadeIn( animOptions.speed ) ).done( function() {
								$bxCanvas.css( 'z-index', 1 ).css('visibility','hidden');
								current = pos;
								$bxNextCanvas.css('visibility','hidden');
								isAnim 	= false;
							});break;
							case 2	:
							$bxNextCanvas.css('visibility','visible');
							$.when( $bxCanvas.fadeOut( animOptions.speed * 1.5 ) ).done( function() {
								$(this).css({
									'z-index' 		: 1,
									'visibility'	: 'hidden'
								}).show();
								$title.fadeIn( animOptions.speed );
								$.when( $bxNextImage.fadeIn( animOptions.speed ) ).done( function() {
									current = pos;
									$bxNextCanvas.css('visibility','hidden');
									isAnim 	= false;
								});
							});break;
						};
					});
				}
				// if canvas is not shown just work with the bg images
				// 如果是不表明与背景图像
				else {
					$title.hide().text( $bxNextImage.attr('title') ).fadeIn( animOptions.speed );
					$.when( $bxNextImage.css( 'z-index', 102 ).fadeIn( animOptions.speed ) ).done( function() {
						current = pos;
						$bxImage.hide();
						$(this).css( 'z-index', 101 );
						isAnim = false;
					});
				}
						
			};
			return {
				init	: init
			};
		})();
		// call the init function
		// 调用初始化函数
		BlurBGImage.init();
	});
</script>
</body>
</html>